{
    "_type": "Component",
    "checks": [],
    "streams": [],
    "labels": [
        \{{#if element.data.labels \}}
            \{{# join element.data.labels "," "" "," \}}
            {
            "_type": "Label",
            "name": "\{{ this \}}"
            }
            \{{/ join \}}
        \{{/if\}}
        {
            "_type": "Label",
            "name": "stackpack:splunk"
        }
        \{{#if element.data.tags \}}
            \{{# join element.data.tags "," "," "" \}}
            {
              "_type": "Label",
              "name": "\{{ this \}}"
            }
            \{{/ join \}}
        \{{/if\}}
    ],
    "name": "\{{#if element.data.name\}}\{{ element.data.name \}}\{{else\}}\{{ element.externalId \}}\{{/if\}}",
    \{{#if element.data.description\}}
    "description": "\{{ element.data.description \}}",
    \{{/if\}}
    "type" : \{{ getOrCreate (identifier "urn:stackpack:common" "ComponentType" element.type.name ) (identifier "urn:system:auto" "ComponentType" element.type.name) (concat "Type=ComponentType;Name=" element.type.name) \}},
    "version": "\{{ element.data.version \}}",
    "layer": \{{ getOrCreate (identifier "urn:stackpack:common" "Layer" element.data.layer ) (identifier "urn:system:auto" "Layer" element.data.layer) (concat "Type=Layer;Name=" element.data.layer) \}},
    "domain": \{{ getOrCreate (identifier "urn:stackpack:common" "Domain" element.data.domain ) (identifier "urn:system:auto" "Domain" element.data.domain) (concat "Type=Domain;Name=" element.data.domain) \}},
    "environments": [
        \{{ getOrCreate (identifier "urn:stackpack:common" "Environment" element.data.environment ) (identifier "urn:system:auto" "Environment" element.data.environment) (concat "Type=Environment;Name=" element.data.environment) \}},
    ]
}